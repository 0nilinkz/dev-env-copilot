# @devenv Usage Guide

## Overview

The @devenv chat participant enables you to write environment context to `.vscode/copilot-instructions.md` in a token-efficient manner, providing automatic context for all GitHub Copilot interactions in your workspace.

## How to Use

### Basic Usage

1. **Open GitHub Copilot Chat** in VS Code (Ctrl+Shift+I or Cmd+Shift+I)
2. **Type `@devenv`** and press Enter
3. **The extension will:**
   - Detect your current development environment
   - Generate a token-efficient summary
   - Write it to `.vscode/copilot-instructions.md`
   - Show confirmation and preview the generated content

### Available Commands

- **`@devenv`** (default) - Update environment context in copilot-instructions.md
- **`@devenv /update`** - Same as default, explicitly update the instructions file
- **`@devenv /show`** - Show current environment information without updating the file

## Generated Content

The extension creates a concise, token-friendly summary that includes:

- **Environment:** OS, architecture, and shell information
- **Runtimes:** Detected Python, Node.js versions (if available)
- **Project:** Current workspace name
- **Instructions:** Environment-specific guidance for Copilot

### Example Output

```markdown
# Development Environment Context

**Environment:** Windows 10.0.22631 x64 | PowerShell
**Runtimes:** Python 3.11.4, Node.js v18.16.0
**Project:** my-awesome-project

**Instructions:**
- Provide commands compatible with the detected environment
- Use appropriate shell syntax for the detected shell
- Consider cross-platform compatibility when relevant
- Use PowerShell syntax for Windows commands
- Use backslashes for Windows paths when appropriate

*Auto-generated by Dev Environment Copilot on 2025-06-06*
```

## How It Works

1. **Environment Detection:** The extension detects your:
   - Operating system and version
   - System architecture (x64, arm64, etc.)
   - Default shell (PowerShell, bash, zsh, etc.)
   - Runtime versions (Python, Node.js, Git)

2. **Token Efficiency:** The generated content is designed to be:
   - Concise and structured
   - Rich in context but minimal in tokens
   - Automatically updated when environment changes

3. **Automatic Context:** Once written, the `.vscode/copilot-instructions.md` file provides context for:
   - All Copilot Chat interactions
   - Code completions and suggestions
   - Command recommendations

## Benefits

- **Automatic Environment Awareness:** Copilot knows your development environment
- **Cross-Platform Compatibility:** Appropriate commands for your OS and shell
- **Token Efficient:** Minimal token usage for maximum context
- **One-Time Setup:** Run once per workspace, use everywhere
- **Always Updated:** Easy to refresh when environment changes

## File Location

The generated instructions are saved to:
```
<workspace>/.vscode/copilot-instructions.md
```

This file is automatically read by GitHub Copilot and provides context for all interactions within the workspace.

## Troubleshooting

If the command doesn't work:

1. **Ensure Extension is Active:** Check that Dev Environment Copilot is installed and enabled
2. **Check Workspace:** Make sure you have a workspace open (not just a single file)
3. **Permissions:** Ensure VS Code has permissions to write to the `.vscode` directory
4. **Reload Window:** Try reloading the VS Code window if the chat participant doesn't appear

## Advanced Usage

For developers who want to customize the behavior:

1. **Manual Updates:** You can manually edit `.vscode/copilot-instructions.md` after generation
2. **Project-Specific Context:** Add additional project-specific instructions to the file
3. **Team Sharing:** Commit the file to version control to share environment context with your team

## Integration with Copilot

Once the file is created, GitHub Copilot will automatically:
- Use the environment context in chat responses
- Provide OS-appropriate command suggestions
- Consider your specific runtime versions
- Adapt code examples to your environment

This creates a seamless, environment-aware development experience with minimal setup!
